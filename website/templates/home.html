{% extends "base.html" %} {% block title %}Dogs{% endblock %} {% block content
    %}

    <style>
      .dog-card {
          display: inline-block;
          width: 220px;
          margin-top: 80px;
          text-align: center;
          vertical-align: top;
          flex-direction: column;
          align-items: center;
          height: 250px;
          background-color: #f2f2f2;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      
      }

      .dog-card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .dog-card h2 {
        font-size: 15px;
        margin-bottom: 10px;
      }

      .dog-card p {
      font-size: 12px;
      }

      .dog-card small {
      font-size: 12px;
      }

      .pagination {
        display: flex;
        justify-content: center;
        position:fixed;
        bottom: 0;
        left: 50%
      }

      .page-number {
        margin: 0 10px;
      }

      .colored-strip {
        position: absolute;
        left: 0;
        right: 0;
        top: 50px;
        width: 100%;
        background-color: #ebcb6e;
        padding: 35px;
        color:#f2f2f2;
      }
      .link {
        color: #f2f2f2;
        display: inline-block;
        padding: 0px
      }

      .link:hover {
        color: #f47b1e;
      }


      .button-like {
        border: 2px hidden dark-gray;
        background-color: transparent;
        text-decoration: none;
        padding: 1rem;
        position: relative;
        vertical-align: middle;
        text-align: center;
        display: inline-block;
       
        color: dark-gray;
        transition: all ease 0.4s;

        }

          
        


    </style>
    <div class ="colored-strip" >
      <h4 text-align = "center">Dogs for adoption</h4>
      <h7 text-align = "center">Would you like to find a dog that would probably be the best fit for you?
      <a class="link" href="{{ url_for('user_info')}}">Fill out the questionnaire and try our dope connection sistem.</a></h7>
    </div>
    
    
    <div style="margin-top: 185px;">
      
      <form action="" method="POST">
        
        {% for city in cities%}
            <input type="checkbox" id="remember-checkbox" name="city" value="{{ city }}" {% if city in chosen_cities %}checked{% endif %}> 
            <label style="display: inline block;" for="city">{{city}}</label> &nbsp
        {% endfor %}
        
        <div class="col-lg-3" style="margin-left: -15px;">
          <button class="btn btn-secondary btn-sm" type="submit">Filter by city</button>
          <button onclick= "clearRememberedCheckboxes()"id="clear-checkboxes" class="btn btn-secondary btn-sm"name="city" value="all">Clear the filter</button>
        </div>
      </form>
  
    </div>
 

    <div class="row text-center">
      {% for post in posts %}
      <div class="col-lg-3">
        <div class="dog-card">
          <!--  <div style="position: relative;">
          
            <form action="" method="POST" id="liked">
              <button class="button button-like">
                <i class="fa fa-heart"></i>
              </button>
            </form> 
          </div> -->  
          <img src="{{ url_for('static', filename='profile_pics/' + post.image_file) }}" alt="dog" />
          <h2><a href="{{ url_for('post', post_id = post.id )}}">{{ post.title }} </a></h2>
          <p text-align="center"> {{ post.city }}, {{ post.gender }} </p>
          <small class="text-muted">Foster parent: <a href="{{ url_for('user', user_id = post.author.id )}}">{{ post.author.first_name }}</a></small>
        </div>
      </div>
      {% endfor %}
    </div>

    

      <script>
        let checkboxes = document.querySelectorAll('input[type=checkbox][name="saved[]"]');
        checkboxes.forEach(function(checkbox) {
          checkbox.addEventListener('change', function() {
            document.getElementById('liked').submit();
          });
        });
      </script>

      <div class="pagination">
        {% for page_num in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
          {% if page_num %}
            {% if posts.page == page_num %}
              <a class="btn btn-info mb-4" style="margin: 4px;" href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-info mb-4" href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            ...
          {% endif %}
        {% endfor %}
        
      </div>
      <br>
      <br>
      <br>
      <br>

  <script>
        // Get the checkbox element and add an event listener to it
    const rememberCheckbox = document.getElementById('remember-checkbox');
    rememberCheckbox.addEventListener('change', () => {
      // If the checkbox is checked, store a value of 'true' in localStorage
      // Otherwise, remove the 'remembered' value from localStorage
      if (rememberCheckbox.checked) {
        localStorage.setItem('remembered', 'true');
      } else {
        localStorage.removeItem('remembered');
      }
    });

    // When the page loads, check if there's a 'remembered' value in localStorage
    // If so, set the checkbox to checked
    if (localStorage.getItem('remembered') === 'true') {
      rememberCheckbox.checked = true;
    }

    function clearRememberedCheckboxes() {
      localStorage.removeItem('remembered');
        // Reload the page to update the checkbox state
      location.reload();
    };
  </script>
    
    {% endblock %}