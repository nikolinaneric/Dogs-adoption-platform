{% extends "base.html" %} {% block title %}Post{% endblock %}
    {% block content %}

    <script>
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');
        const pageNumber = document.querySelector('.page-number');
  
        let currentPage = parseInt(pageNumber.textContent.split('/')[0].trim());
        let totalPages = parseInt(pageNumber.textContent.split('/')[1].trim());
  
        prevBtn.addEventListener('click', () => {
          if (currentPage > 1) {
            window.location.href = `?page=${currentPage - 1}`;
          }
        });
  
        nextBtn.addEventListener('click', () => {
          if (currentPage < totalPages) {
            window.location.href = `?page=${currentPage + 1}`;
          }
        });
  
  
      </script>
      <style>
        .dog-card {
          display: inline-block;
          width: 20%;
          margin: 1%;
          text-align: center;
          vertical-align: top;
          flex-direction: column;
          align-items: center;
          height: 250px;
          background-color: #f2f2f2;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        
        }
  
        .dog-card img {
          width: 100%;
          height: 150px;
          object-fit: cover;
          border-radius: 10px;
          margin-bottom: 20px;
        }
  
        .dog-card h2 {
          font-size: 15px;
          margin-bottom: 10px;
        }
  
        .dog-card p {
        font-size: 12px;
        }
  
        .pagination {
          display: flex;
          justify-content: center;
          margin-top: 20px;
        }
  
        .page-number {
          margin: 0 10px;
        }
  
      </style>
       
       <br>
       <br>
      <h4 text-align = "center">Your perfect matches waiting to be adopted!</h1>
        {% if warning %}
        <br>
        <br>
        
        <br>
        <h6 text-align = "center">{{warning}}</h6>
        <a href="{{ url_for('user_info')}}">Fill out the questionnaire again.</a>
        {% else %}
        <h6 text-align = "center">Do you want to change some of the preferences you gave to us?
        <a href="{{ url_for('user_info')}}">Fill out the questionnaire again.</a></h6>
        {% endif %}
        <br>
        <br>
        {% if posts%}
          {% for post in posts %}
          <div class="dog-card">
            <img src="{{ url_for('static', filename='profile_pics/' + post[0].image_file) }}" alt="dog" />
            <h2><a href="{{ url_for('post', post_id = post[0].id )}}">{{ post[0].title }} </a></h2>
            <p>{{ post[0].data }} </p>
          </div>
          {% endfor %}
        {% else %}
          <h6 text-align = "center">Our random choices</h6>
          {% for post in alternative_posts %}
          <div class="dog-card">
            <img src="{{ url_for('static', filename='profile_pics/' + post[0].image_file) }}" alt="dog" />
            <h2><a href="{{ url_for('post', post_id = post[0].id )}}">{{ post[0].title }} </a></h2>
            <p>{{ post[0].data }} </p>
          </div>
          {% endfor %} 
        {% endif %}
        <div class="pagination" >
          <button class="prev">Previous</button>
          <span class="page-number">{{ current_page }} / {{ total_pages }}</span>
          <button class="next">Next</button>
        </div>
        
        
      
      {% endblock %}