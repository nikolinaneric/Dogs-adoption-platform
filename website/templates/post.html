{% extends "base.html" %} {% block title %}Post{% endblock %} {% block content
    %}
  <style>
  
    .post-card{
    text-align: center;
    margin: 20px;
    border-style: solid;
    border-width: 1px;
    border-radius: 8px;
    border-color:#e7e7e4;
    background-color: #f4f4f1;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);

    padding: 20px;
    }

    .post-card h1 {
    font-size: 24px;
    margin-bottom: 20px;
    
    }

    .post-card img {
    width: 300px;
    border-radius: 8px;
    border-color:gray;
    margin-bottom: 20px;
    }

    .post-card p {
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 20px;
    }

    #pop-up {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50%;
        height: 300px;
        z-index: 1;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      }

</style>

<div class="post-card">
    <h1>Meet {{ post.title }}!</h1>
    <img src="{{ url_for('static', filename='profile_pics/' + post.image_file) }}" class="post img"alt="dog">
    <p>info</p>
    <legend class="border-bottom mb-4"></legend>
    <p>{{post.data}}</p>
</div>
    {% if post.user_id == user.id %}
    <div>
      <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{{ url_for('update_post', post_id=post.id) }}">Update</a>
      <button type="button" class="btn btn-danger btn-sm m-1" data-toggle="modal" data-target="#deleteModal">
          Delete</button>
    </div>
    {% else %}
    <div style="margin-left: 25px">
      <p>Thinking about adopting {{post.title}}?</p>
      <a class="btn btn-danger" href="{{ url_for('update_post', post_id=post.id) }}">Contact the foster parent</a>
      <button id ="pop-up-button" class="btn btn-secondary" style="position:absolute; right:15%">Check the fit</button>
    </div>
    <div id="pop-up" style="display:none";>
      <iframe src="{{ url_for('comparison', post_id=post.id) }}" width="100%" height="300" style=" border-style:hidden ;border-radius: 8px"></iframe>
      <button style="position:fixed; top:2px ;right:20px" class="btn btn-secondary btn-danger" data-dismiss="modal" onclick="document.getElementById('pop-up').style.display='none';">Close</button>
    </div>
    <br>

    <script>
      document.getElementById("pop-up-button").addEventListener("click", function() {
        document.getElementById("pop-up").style.display = "block";
      });
    </script>
    {% endif %}
<!-- Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="deleteModalLabel">Delete Post?</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST">
        <input class="btn btn-danger btn-sm m-1" type="submit" value="Delete">
      </form>
    </div>
  </div>
</div>
</div>
{% endblock %}