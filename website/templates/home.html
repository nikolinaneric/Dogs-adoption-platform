{% extends "base.html" %} {% block title %}Dogs{% endblock %} {% block content
    %}

    <style>
      .dog-card {
          display: inline-block;
          width: 220px;
          margin-top: 80px;
          text-align: center;
          vertical-align: top;
          flex-direction: column;
          align-items: center;
          height: 250px;
          background-color: #f2f2f2;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      
      }

      .dog-card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .dog-card h2 {
        font-size: 15px;
        margin-bottom: 10px;
      }

      .dog-card p {
      font-size: 12px;
      }

      .dog-card small {
      font-size: 12px;
      }

      .pagination {
        display: flex;
        justify-content: center;
        position:fixed;
        bottom: 0;
        left: 50%
      }

      .page-number {
        margin: 0 10px;
      }

      .colored-strip {
        position: absolute;
        left: 0;
        right: 0;
        top: 50px;
        width: 100%;
        background-color: #ebcb6e;
        padding: 35px;
        color:#f2f2f2;
      }
      .link {
        color: #f2f2f2;
        display: inline-block;
        padding: 0px
      }

      .link:hover {
        color: #f47b1e;
      }

    
    </style>
    <div class ="colored-strip" >
      <h4 text-align = "center">Dogs for adoption</h4>
      <h7 text-align = "center">Would you like to find a dog that would probably be the best fit for you?
      <a class="link" href="{{ url_for('user_info')}}">Fill out the questionnaire and try our dope connection sistem.</a></h7>
    </div>
    <div>
      {% for city in cities%}
      <input type="checkbox" name="city" id="city" value="{{ city }}">
      <label for="city">{{city}}</label>
      {% endfor %}
      <button type="submit">Filter by city</button>
    </div>
    <br>
    <br>
    <br>
    <br>
    <div class="row">
      {% for post in posts %}
      <div class="col-lg-3" style="align-items: center;">
        <div class="dog-card">
          <div style="position: relative;">
            <style> input {
              display: none;
            }
        
            /* changes the color when selected */
            input:checked ~ label {
              color: rgb(210, 57, 57);
              opacity: 1
            }
        
        
        
            /* for styling purpose only */
            label {
              font-size: 3.5em;
              opacity: 0.3;
              border-style: solid 5px;
              border-color: white;
            }
            </style>
            <form action="" method="POST" id="liked">
              <input type="checkbox" name="saved[]" id="{{ post.id }}" style="position: absolute; bottom: -50px; right: -5px;" value="{{ post.id }}">
              <label for="{{ post.id }}" style="position: absolute; bottom: -50px; right: -5px;">&#9829;</label>
            </form>
          </div>
          <img src="{{ url_for('static', filename='profile_pics/' + post.image_file) }}" alt="dog" />
          <h2><a href="{{ url_for('post', post_id = post.id )}}">{{ post.title }} </a></h2>
          <p text-align="center"> {{ post.city }}, {{ post.gender }} </p>
          <small class="text-muted">Foster parent: <a href="{{ url_for('user', user_id = post.author.id )}}">{{ post.author.first_name }}</a></small>
        </div>
      </div>
      {% endfor %}
    </div>

      <script>
        let checkboxes = document.querySelectorAll('input[type=checkbox][name="saved[]"]');
        checkboxes.forEach(function(checkbox) {
          checkbox.addEventListener('change', function() {
            document.getElementById('liked').submit();
          });
        });
      </script>

      <div class="pagination">
        {% for page_num in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
          {% if page_num %}
            {% if posts.page == page_num %}
              <a class="btn btn-info mb-4" style="margin: 4px;" href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-info mb-4" href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            ...
          {% endif %}
        {% endfor %}
        
      </div>
      <br>
      <br>
      <br>
      <br>
    
    {% endblock %}